<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>صمّم موقعك | منصة واعي</title>
  <link rel="stylesheet" href="din-font.css">
  <style>
    :root{--navy:#002b5c;--ink:#0b1324;--bg:#f6f8fb}
    *{box-sizing:border-box} body{margin:0;background:var(--bg);color:var(--ink)}
    .wrap{max-width:1040px;margin:0 auto;padding:24px}
    header{display:flex;align-items:center;gap:14px;background:var(--navy);color:#e9fbff;
           padding:14px 20px;border-radius:16px}
    header img{height:48px}
    .brand h1{margin:0;font-size:1.35rem}
    .brand p{margin:.2rem 0 0;color:#c9f2f7}
    .topbar{display:flex;align-items:center;gap:10px;margin:14px 0}
    .back{display:inline-flex;align-items:center;gap:8px;text-decoration:none;color:var(--navy);font-weight:700}
    .card{max-width:760px;margin:12px auto;background:#fff;border:1px solid #e5eef3;border-radius:16px;
          box-shadow:0 10px 26px rgba(0,0,0,.10);padding:22px}
    .card h3{margin:0 0 12px;color:var(--navy)}
    label{display:block;font-weight:700;margin:10px 0 6px}
    input,select,textarea{width:100%;padding:12px;border:1px solid #ccd6dd;border-radius:10px;outline:none;background:#fff}
    textarea{min-height:120px;resize:vertical}
    .row{display:grid;grid-template-columns:repeat(12,1fr);gap:12px}
    .col-6{grid-column:span 6}.col-12{grid-column:span 12}
    @media (max-width:720px){.col-6{grid-column:span 12}}
    .btn{display:inline-flex;align-items:center;gap:8px;text-decoration:none;border:0;
         padding:12px 24px;border-radius:12px;cursor:pointer;font-weight:700;transition:.2s;
         background:#002b5c;color:#fff}
    .status{margin-top:10px;font-weight:700}.ok{color:#0b7e36}.err{color:#b91c1c}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <img src="https://i.postimg.cc/HnTV82Hx/04aaab20-e9a2-4981-9f19-d2878a31bfe2.png" alt="شعار منصة واعي">
      <div class="brand">
        <h1>منصة واعي</h1>
        <p>استشارات إدارية وحلول رقمية</p>
      </div>
    </header>

    <div class="topbar">
      <a class="back" href="index.html">← العودة للرئيسية</a>
    </div>

    <div class="card">
      <h3>نموذج طلب تصميم موقع</h3>
      <form id="designForm" action="https://formspree.io/f/xwpqjzgj" method="POST" accept-charset="utf-8">
        <input type="hidden" name="_subject" value="طلب تصميم موقع جديد - منصة واعي">
        <input type="hidden" name="_replyto" id="replyto">
        <input type="text" name="_gotcha" style="display:none">

        <div class="row">
          <div class="col-6">
            <label>اسم المشروع *</label>
            <input name="project_name" required placeholder="مثال: موقع واعي كيدز">
          </div>
          <div class="col-6">
            <label>البريد الإلكتروني *</label>
            <input id="emailField" name="email" type="email" required placeholder="you@example.com">
          </div>
          <div class="col-6">
            <label>رقم الهاتف</label>
            <input name="phone" inputmode="numeric" pattern="[0-9\s+\-]*" placeholder="055...">
          </div>
          <div class="col-6">
            <label>نوع الموقع *</label>
            <select name="site_type" required>
              <option value="">اختر</option>
              <option>موقع تعريفي بسيط</option>
              <option>متجر إلكتروني</option>
              <option>مدونة/محتوى</option>
              <option>أخرى</option>
            </select>
          </div>
          <div class="col-12">
            <label>الهوية البصرية (ألوان/خطوط) — اختياري</label>
            <input name="brand_details" placeholder="مثال: الأزرق البحري، خط DIN Next">
          </div>
          <div class="col-12">
            <label>رسالة أو وصف مختصر</label>
            <textarea name="description" placeholder="اكتب وصفًا قصيرًا عن مشروعك وهدف الموقع"></textarea>
          </div>
        </div>

        <div style="margin-top:12px;display:flex;gap:10px;align-items:center;flex-wrap:wrap">
          <button class="btn" type="submit">إرسال الطلب</button>
          <span id="status" class="status"></span>
        </div>
      </form>
    </div>
  </div>

  <script>
    // تمرير بريد العميل إلى _replyto
    const emailInput = document.getElementById('emailField');
    const replyTo = document.getElementById('replyto');
    emailInput?.addEventListener('input', ()=> replyTo.value = emailInput.value);

    // إرسال AJAX
    const form = document.getElementById('designForm');
    const statusEl = document.getElementById('status');
    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      statusEl.className = 'status';
      statusEl.textContent = '... يتم الإرسال';
      try {
        const res = await fetch(form.action, {
          method: 'POST',
          body: new FormData(form),
          headers: { 'Accept': 'application/json' }
        });
        if (res.ok) {
          form.reset();
          statusEl.className = 'status ok';
          statusEl.textContent = 'تم استلام طلبك، سنعاود التواصل قريبًا.';
        } else {
          const data = await res.json().catch(() => ({}));
          statusEl.className = 'status err';
          statusEl.textContent = (data && data.errors && data.errors[0] && data.errors[0].message) || 'تعذر الإرسال، حاول لاحقًا.';
        }
      } catch (err) {
        statusEl.className = 'status err';
        statusEl.textContent = 'تعذر الاتصال بالخادم. تحقق من الشبكة وجرب مرة أخرى.';
      }
    });
  </script>
</body>
</html>
